<?xml version='1.0' encoding='UTF-8' standalone='no'?> <!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'> <!-- Generated by graphviz version 2.40.1 (20161225.0304) --> <!-- Title: G Pages: 1 --> <svg width='916pt' height='860pt' viewBox='0.00 0.00 916.40 859.83' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'> <g id='graph0' class='graph' transform='scale(1 1) rotate(0) translate(4 855.8301)'> <title>G</title> <polygon fill='white' stroke='transparent' points='-4,4 -4,-855.8301 912.3964,-855.8301 912.3964,4 -4,4'/> <!-- nodeStart --> <g id='node1' class='node'> <title>nodeStart</title> <ellipse fill='black' stroke='black' cx='596.6699' cy='-816.6512' rx='35.3587' ry='35.3587'/> <text text-anchor='middle' x='596.6699' y='-812.4512' font-family='Times,serif' font-size='14.00' fill='white'>开始</text> </g> <!-- node1 --> <g id='node2' class='node'> <title>node1</title> <polygon fill='#9ac0cd' stroke='#9ac0cd' points='908.6231,-744.4723 284.7167,-744.4723 284.7167,-708.4723 908.6231,-708.4723 908.6231,-744.4723'/> <text text-anchor='middle' x='596.6699' y='-722.2723' font-family='Times,serif' font-size='14.00' fill='black'>1. 构建异常处理方法解析器，在 @Controller 处理器中查找 @ExceptionHandler &#160;修饰的异常处理方法</text> </g> <!-- nodeStart&#45;&gt;node1 --> <g id='edge1' class='edge'> <title>nodeStart&#45;&gt;node1</title> <path fill='none' stroke='black' d='M596.6699,-781.2689C596.6699,-772.4564 596.6699,-763.1245 596.6699,-754.7079'/> <polygon fill='black' stroke='black' points='600.17,-754.6442 596.6699,-744.6442 593.17,-754.6443 600.17,-754.6442'/> </g> <!-- SubCondition1 --> <g id='node3' class='node'> <title>SubCondition1</title> <polygon fill='#adff2f' stroke='#adff2f' points='596.6699,-671.4723 434.6346,-653.4723 596.6699,-635.4723 758.7052,-653.4723 596.6699,-671.4723'/> <text text-anchor='middle' x='596.6699' y='-649.2723' font-family='Times,serif' font-size='14.00' fill='black'>2. 找到了异常处理方法？</text> </g> <!-- node1&#45;&gt;SubCondition1 --> <g id='edge2' class='edge'> <title>node1&#45;&gt;SubCondition1</title> <path fill='none' stroke='black' d='M596.6699,-708.4274C596.6699,-700.3552 596.6699,-690.6487 596.6699,-681.6541'/> <polygon fill='black' stroke='black' points='600.17,-681.5626 596.6699,-671.5627 593.17,-681.5627 600.17,-681.5626'/> </g> <!-- node2 --> <g id='node4' class='node'> <title>node2</title> <polygon fill='#9ac0cd' stroke='#9ac0cd' points='599.7978,-582.6723 339.542,-582.6723 339.542,-546.6723 599.7978,-546.6723 599.7978,-582.6723'/> <text text-anchor='middle' x='469.6699' y='-560.4723' font-family='Times,serif' font-size='14.00' fill='black'>3. 查找适配于处理器的 @ControllerAdvice</text> </g> <!-- SubCondition1&#45;&gt;node2 --> <g id='edge3' class='edge'> <title>SubCondition1&#45;&gt;node2</title> <path fill='none' stroke='black' d='M574.2572,-637.8011C554.8093,-624.2028 526.3504,-604.3041 504.0275,-588.6956'/> <polygon fill='black' stroke='black' points='506.0049,-585.8075 495.804,-582.9456 501.9937,-591.5443 506.0049,-585.8075'/> <text text-anchor='middle' x='551.6699' y='-604.8723' font-family='Times,serif' font-size='14.00' fill='black'>否</text> </g> <!-- node4 --> <g id='node5' class='node'> <title>node4</title> <polygon fill='#9ac0cd' stroke='#9ac0cd' points='601.7671,-420.8723 397.5727,-420.8723 397.5727,-384.8723 601.7671,-384.8723 601.7671,-420.8723'/> <text text-anchor='middle' x='499.6699' y='-398.6723' font-family='Times,serif' font-size='14.00' fill='black'>5. 为处理方法设置参数解析器</text> </g> <!-- SubCondition1&#45;&gt;node4 --> <g id='edge4' class='edge'> <title>SubCondition1&#45;&gt;node4</title> <path fill='none' stroke='black' d='M610.5645,-637.0056C638.9198,-601.3078 697.4601,-515.3827 656.6699,-457.8723 647.5847,-445.063 617.8863,-433.2114 586.7274,-423.8153'/> <polygon fill='black' stroke='black' points='587.6121,-420.4275 577.0317,-420.9798 585.6472,-427.1461 587.6121,-420.4275'/> <text text-anchor='middle' x='678.0612' y='-516.0723' font-family='Times,serif' font-size='14.00' fill='black'>是</text> </g> <!-- node3 --> <g id='node6' class='node'> <title>node3</title> <polygon fill='#9ac0cd' stroke='#9ac0cd' points='647.5098,-493.8723 -.17,-493.8723 -.17,-457.8723 647.5098,-457.8723 647.5098,-493.8723'/> <text text-anchor='middle' x='323.6699' y='-471.6723' font-family='Times,serif' font-size='14.00' fill='black'>4. 从缓存中查找 @ControllerAdvice 对应的异常处理方法解析器，从解析器的缓存中获取异常处理方法</text> </g> <!-- node2&#45;&gt;node3 --> <g id='edge5' class='edge'> <title>node2&#45;&gt;node3</title> <path fill='none' stroke='black' d='M439.7723,-546.488C417.259,-532.795 386.2243,-513.9191 361.9053,-499.1278'/> <polygon fill='black' stroke='black' points='363.6403,-496.0866 353.2777,-493.8804 360.0027,-502.0672 363.6403,-496.0866'/> </g> <!-- node5 --> <g id='node7' class='node'> <title>node5</title> <polygon fill='#9ac0cd' stroke='#9ac0cd' points='609.8179,-347.8723 389.5219,-347.8723 389.5219,-311.8723 609.8179,-311.8723 609.8179,-347.8723'/> <text text-anchor='middle' x='499.6699' y='-325.6723' font-family='Times,serif' font-size='14.00' fill='black'>6. 为处理方法设置返回值处理器</text> </g> <!-- node4&#45;&gt;node5 --> <g id='edge7' class='edge'> <title>node4&#45;&gt;node5</title> <path fill='none' stroke='black' d='M499.6699,-384.8274C499.6699,-376.7552 499.6699,-367.0487 499.6699,-358.0541'/> <polygon fill='black' stroke='black' points='503.17,-357.9626 499.6699,-347.9627 496.17,-357.9627 503.17,-357.9626'/> </g> <!-- node3&#45;&gt;node4 --> <g id='edge6' class='edge'> <title>node3&#45;&gt;node4</title> <path fill='none' stroke='black' d='M367.1755,-457.8274C391.1854,-447.8687 421.1922,-435.4227 446.5751,-424.8946'/> <polygon fill='black' stroke='black' points='448.1588,-428.0269 456.0548,-420.9627 445.4769,-421.561 448.1588,-428.0269'/> </g> <!-- node6sub1 --> <g id='node8' class='node'> <title>node6sub1</title> <polygon fill='#b2dfee' stroke='#b2dfee' points='650.2001,-274.8723 349.1397,-274.8723 349.1397,-238.8723 650.2001,-238.8723 650.2001,-274.8723'/> <text text-anchor='middle' x='499.6699' y='-252.6723' font-family='Times,serif' font-size='14.00' fill='black'>7.1 调用参数解析器，解析异常处理方法的参数</text> </g> <!-- node5&#45;&gt;node6sub1 --> <g id='edge8' class='edge'> <title>node5&#45;&gt;node6sub1</title> <path fill='none' stroke='black' d='M499.6699,-311.8274C499.6699,-303.7552 499.6699,-294.0487 499.6699,-285.0541'/> <polygon fill='black' stroke='black' points='503.17,-284.9626 499.6699,-274.9627 496.17,-284.9627 503.17,-284.9626'/> </g> <!-- node6sub2 --> <g id='node9' class='node'> <title>node6sub2</title> <polygon fill='#b2dfee' stroke='#b2dfee' points='584.0954,-201.8723 415.2444,-201.8723 415.2444,-165.8723 584.0954,-165.8723 584.0954,-201.8723'/> <text text-anchor='middle' x='499.6699' y='-179.6723' font-family='Times,serif' font-size='14.00' fill='black'>7.2 反射调用异常处理方法</text> </g> <!-- node6sub1&#45;&gt;node6sub2 --> <g id='edge9' class='edge'> <title>node6sub1&#45;&gt;node6sub2</title> <path fill='none' stroke='black' d='M499.6699,-238.8274C499.6699,-230.7552 499.6699,-221.0487 499.6699,-212.0541'/> <polygon fill='black' stroke='black' points='503.17,-211.9626 499.6699,-201.9627 496.17,-211.9627 503.17,-211.9626'/> </g> <!-- node6sub3 --> <g id='node10' class='node'> <title>node6sub3</title> <polygon fill='#b2dfee' stroke='#b2dfee' points='623.4302,-128.8723 375.9096,-128.8723 375.9096,-92.8723 623.4302,-92.8723 623.4302,-128.8723'/> <text text-anchor='middle' x='499.6699' y='-106.6723' font-family='Times,serif' font-size='14.00' fill='black'>7.3 调用返回结果处理器，处理返回结果</text> </g> <!-- node6sub2&#45;&gt;node6sub3 --> <g id='edge10' class='edge'> <title>node6sub2&#45;&gt;node6sub3</title> <path fill='none' stroke='black' d='M499.6699,-165.8274C499.6699,-157.7552 499.6699,-148.0487 499.6699,-139.0541'/> <polygon fill='black' stroke='black' points='503.17,-138.9626 499.6699,-128.9627 496.17,-138.9627 503.17,-138.9626'/> </g> <!-- nodeEnd --> <g id='node11' class='node'> <title>nodeEnd</title> <ellipse fill='black' stroke='black' cx='499.6699' cy='-27.9362' rx='27.8725' ry='27.8725'/> <text text-anchor='middle' x='499.6699' y='-23.7362' font-family='Times,serif' font-size='14.00' fill='white'>结束</text> </g> <!-- node6sub3&#45;&gt;nodeEnd --> <g id='edge11' class='edge'> <title>node6sub3&#45;&gt;nodeEnd</title> <path fill='none' stroke='black' d='M499.6699,-92.4661C499.6699,-84.6993 499.6699,-75.35 499.6699,-66.209'/> <polygon fill='black' stroke='black' points='503.17,-66.0724 499.6699,-56.0724 496.17,-66.0724 503.17,-66.0724'/> </g> </g> </svg>